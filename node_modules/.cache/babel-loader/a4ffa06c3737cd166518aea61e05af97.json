{"ast":null,"code":"import _toConsumableArray from\"/home/runner/work/azureml-network-playbook/azureml-network-playbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/runner/work/azureml-network-playbook/azureml-network-playbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _createForOfIteratorHelper from\"/home/runner/work/azureml-network-playbook/azureml-network-playbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n// The App component is the top-level component of the application.\n// This component manages the state of the survey and determines\n// which page to show based on the status of the survey.\nimport React,{useEffect,useState}from'react';import{Survey}from'survey-react';import Intro from'./components/Intro';import TaskList from'./components/TaskList';import CategoryTags from'./components/CategoryTags';import{TaskCard}from'./models/Types';import GithubExportForm from'./components/GithubExportForm';import ExportDialog from'./components/ExportDialog';import LinkDialog from'./components/LinkDialog';import{BsArrowCounterclockwise,BsChevronLeft,BsChevronRight}from'react-icons/bs';import{saveAs}from'file-saver';import{getCategorySectionId,isNullOrEmpty}from'./util/Utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";// Captures the survey model object after the page renders\n// Exposes some encapsulated state needed for undo functionality\nexport var surveyModel;// SurveyJS will re-render its component when pages are changed or when the\n// app switches from mobile to desktop view. Some things need to only happen\n// on the first render.\nvar isFirstRender=true;var isDeserializing=false;var autoscroll=true;function createTaskMap(contentData){var _surveyModel$getAllQu,_surveyModel;var questions=(_surveyModel$getAllQu=(_surveyModel=surveyModel)===null||_surveyModel===void 0?void 0:_surveyModel.getAllQuestions())!==null&&_surveyModel$getAllQu!==void 0?_surveyModel$getAllQu:[];var taskMap=new Map();questions.forEach(function(q){var tc=TaskCard.fromQuestionChoice(q.name,q.value);if(tc!=null){var _contentData$question;var category=(_contentData$question=contentData.questions.find(function(cq){return cq.name===q.name;}))===null||_contentData$question===void 0?void 0:_contentData$question.category;var categoryTasks=taskMap.get(category);if(categoryTasks){var filtered=categoryTasks.filter(function(t){return t.question!==q.name;});filtered.push(tc);categoryTasks=filtered;}else{categoryTasks=[tc];}taskMap.set(category,categoryTasks);}});return taskMap;}function isWideScreen(){return window.innerWidth>425;}// Switches the survey to multi-page or single-page format\n// eslint-disable-next-line\nfunction arrangeSurveyPages(surveyData,isMobileLayout){var surveyQuestions=[];for(var i=0;i<((_surveyData$pages=surveyData.pages)===null||_surveyData$pages===void 0?void 0:_surveyData$pages.length);i++){var _surveyData$pages;var page=surveyData.pages[i];for(var j=0;j<((_page$elements=page.elements)===null||_page$elements===void 0?void 0:_page$elements.length);j++){var _page$elements;surveyQuestions.push(page.elements[j]);}}surveyData.pages=[];if(isMobileLayout){// Split the survey into multiple pages\nvar _iterator=_createForOfIteratorHelper(surveyQuestions),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var q=_step.value;surveyData.pages.push({elements:[q]});}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else{// Combine all pages into 1 page\nsurveyData.pages.push({elements:surveyQuestions});}return surveyData;}// vertically align the button row with the category tags row\nfunction adjustVerticalAlignment(){var categoryDiv=document.getElementById(\"category-container\");var buttonDiv=document.getElementById(\"survey-buttons\");if(categoryDiv&&buttonDiv){var _buttonDiv$style$padd;if(isNullOrEmpty(categoryDiv.style.minHeight)){categoryDiv.style.minHeight=\"\".concat(buttonDiv.clientHeight,\"px\");}var heightDiff=categoryDiv.clientHeight-buttonDiv.clientHeight;// parse the padding - it will be in format of \"5px\"\nvar matches=(_buttonDiv$style$padd=buttonDiv.style.paddingBottom)===null||_buttonDiv$style$padd===void 0?void 0:_buttonDiv$style$padd.match(/[0-9]+/);var pb=matches==null?0:parseInt(matches[0]);if(heightDiff!==0){buttonDiv.style.paddingBottom=\"\".concat(pb+heightDiff,\"px\");}}}var App=function App(_ref){var _contentData$surveyIn,_contentData$surveyIn2,_contentData$taskInst,_contentData$taskInst2;var surveyData=_ref.surveyData,contentData=_ref.contentData;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showIntro=_useState2[0],setShowIntro=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showSurvey=_useState4[0],setShowSurvey=_useState4[1];var _useState5=useState(new Array()),_useState6=_slicedToArray(_useState5,2),undoStack=_useState6[0],setUndoStack=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showExportForm=_useState8[0],setShowExportForm=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showLinkDialog=_useState10[0],setShowLinkDialog=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showGithubForm=_useState12[0],setShowGithubForm=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isHighContrast=_useState14[0],setHighContrast=_useState14[1];var _useState15=useState(!isWideScreen()),_useState16=_slicedToArray(_useState15,2),isMobileLayout=_useState16[0],setMobileLayout=_useState16[1];console.log(\"STATE: showIntro=\",showIntro,\" showSurvey=\",showSurvey,\" isMobileLayout=\",isMobileLayout,\" isHighContrast=\",isHighContrast);//surveyData = arrangeSurveyPages(surveyData, isMobileLayout);\nvar deserializeState=function deserializeState(state){console.log(\"Deserializing state: \",state);var regex=/^[0-9x]*$/g;if(!regex.test(state)){console.error(\"Unsupported state string: \",state);return;}var questions=surveyModel.getAllQuestions();if(state.length!==questions.length){console.error(\"State string length != number of questions\");return;}var valueMap=new Map();var numQuestions=0;isDeserializing=true;for(var i=0;i<((_surveyData$pages2=surveyData.pages)===null||_surveyData$pages2===void 0?void 0:_surveyData$pages2.length);i++){var _surveyData$pages2;var page=surveyData.pages[i];for(var j=0;j<((_page$elements2=page.elements)===null||_page$elements2===void 0?void 0:_page$elements2.length);j++){var _page$elements2,_page$elements$j$choi;numQuestions++;if(numQuestions>state.length){console.error(\"survey.json contains more questions than state\");isDeserializing=false;return;}if(state.charAt(j)===\"x\"){continue;}var choiceIx=parseInt(state.charAt(j));var value=(_page$elements$j$choi=page.elements[j].choices[choiceIx])===null||_page$elements$j$choi===void 0?void 0:_page$elements$j$choi.value;var questionName=page.elements[j].name;if(value){valueMap.set(questionName,value);}else{console.error(\"Choice not found for state index=\".concat(j));isDeserializing=false;return;}}}questions.forEach(function(q){q.value=valueMap.get(q.name);});if(isFirstRender){// Set the undo stack up if the page is loading from a saved state\nvar _valueMap=new Map();var firstUndoStack=[];questions.forEach(function(q){if(q.value){_valueMap=new Map(_valueMap);_valueMap.set(q.name,q.value);firstUndoStack=[].concat(_toConsumableArray(firstUndoStack),[_valueMap]);}});setUndoStack(firstUndoStack);}isDeserializing=false;console.log(\"Deserialization successful\",valueMap);};var serializeState=function serializeState(){if(surveyModel==null){console.log(\"Can't serialize: surveyModel is undefined\");return\"\";}// Values is a map of {questionName: questionValue}\nvar values=surveyModel.getAllValues();var serialized=\"\";for(var i=0;i<((_surveyData$pages3=surveyData.pages)===null||_surveyData$pages3===void 0?void 0:_surveyData$pages3.length);i++){var _surveyData$pages3;var page=surveyData.pages[i];for(var j=0;j<((_page$elements3=page.elements)===null||_page$elements3===void 0?void 0:_page$elements3.length);j++){var _page$elements3;var choices=page.elements[j].choices;var questionName=page.elements[j].name;var found=false;for(var k=0;k<(choices===null||choices===void 0?void 0:choices.length)&&!found;k++){if(values[questionName]===choices[k].value){serialized+=k;found=true;}}if(!found){serialized+=\"x\";}}}console.log(\"Serialized state: \",serialized);return serialized;};var handleAfterRender=function handleAfterRender(sender,options){console.log(\"AfterRender\",sender,options);surveyModel=sender;var urlParams=new URLSearchParams(window.location.search);var state=urlParams.get('state');if(state){deserializeState(state);}isFirstRender=false;};var handleValueChanged=function handleValueChanged(sender,options){if(isDeserializing){return;}console.log(\"ValueChanged\",sender,options);var questions=sender.getAllQuestions();var valueMap=new Map();questions.forEach(function(q){// Clear answers from invisible questions\n// Questions can become invisible when the user changes a previous selection\nif(!q.isVisible){q.clearValue();}valueMap.set(q.name,q.value);});setUndoStack([].concat(_toConsumableArray(undoStack),[valueMap]));var url=new URL(window.location.toString());url.searchParams.set(\"state\",serializeState());window.history.replaceState({},'',url.toString());var countPreview=document.getElementById(\"scenario-count-preview\");if(countPreview){countPreview.classList.add(\"pulse-animation\");setTimeout(function(){countPreview.classList.remove(\"pulse-animation\");},1500);}};var handleUndo=function handleUndo(){if(surveyModel==null){console.log(\"Can't undo: surveyModel is undefined\");return;}var questions=surveyModel.getAllQuestions();questions.forEach(function(q){q.clearValue();});if(undoStack.length>1){// The last thing pushed on the stack is the current state\n// We need to pop it off first to get the old state\nundoStack.pop();var oldState=undoStack[undoStack.length-1];questions.forEach(function(q){q.value=oldState===null||oldState===void 0?void 0:oldState.get(q.name);});setUndoStack(_toConsumableArray(undoStack));}else{setUndoStack([]);}};var handleClear=function handleClear(){if(surveyModel==null){console.log(\"Can't clear: surveyModel is undefined\");return;}var questions=surveyModel.getAllQuestions();questions.forEach(function(q){q.clearValue();});};var handleCategoryClick=function handleCategoryClick(category){var categorySection=document.getElementById(getCategorySectionId(category));if(categorySection){categorySection.scrollIntoView(true);categorySection.focus();}};/* eslint-disable react-hooks/exhaustive-deps */useEffect(function(){if(showIntro)return;// Detect high contrast mode by checking if the background color has been modified\nif(!isHighContrast){var leftColumnBg=window.getComputedStyle(document.getElementsByClassName(\"title-bar\")[0],null).getPropertyValue('background-color');if(leftColumnBg!==\"rgb(0, 27, 46)\"){setHighContrast(true);}}// Resize the page to fill the screen vertically\nvar titleBar=document.getElementById(\"title-bar\");if(isMobileLayout){var viewScenariosBar=document.getElementById(\"view-scenarios-bar\");var surveyContainer=document.getElementById(\"survey-container\");if(surveyContainer){if(viewScenariosBar){surveyContainer.style.height=\"calc(100vh - \".concat(titleBar===null||titleBar===void 0?void 0:titleBar.offsetHeight,\"px - \").concat(viewScenariosBar===null||viewScenariosBar===void 0?void 0:viewScenariosBar.offsetHeight,\"px)\");}else{surveyContainer.style.height=\"calc(100vh - \".concat(titleBar===null||titleBar===void 0?void 0:titleBar.offsetHeight,\"px)\");}}var scenarioContainer=document.getElementById(\"scenario-header-container\");if(scenarioContainer){scenarioContainer.style.height=\"\";}}else{var footer=document.getElementById(\"footer\");var grid=document.getElementById(\"two-column-grid\");if(grid){grid.style.height=\"calc(100vh - \".concat(footer===null||footer===void 0?void 0:footer.offsetHeight,\"px - \").concat(titleBar===null||titleBar===void 0?void 0:titleBar.offsetHeight,\"px)\");}adjustVerticalAlignment();}// Auto-scroll when the user selects a choice\nif(autoscroll){var svRows=document.getElementsByClassName(\"sv_row\");if(svRows.length>0){svRows[svRows.length-1].scrollIntoView(true);}}var handleResize=function handleResize(){if(isMobileLayout&&isWideScreen()){console.log(\"Switching to desktop layout\");setMobileLayout(false);}else if(!isMobileLayout&&!isWideScreen()){console.log(\"Switching to mobile layout\");setMobileLayout(true);}else if(!isMobileLayout){adjustVerticalAlignment();}};var handleKeyPress=function handleKeyPress(){autoscroll=false;};var handleMouseClick=function handleMouseClick(){autoscroll=true;};window.addEventListener('resize',handleResize);document.addEventListener('keypress',handleKeyPress);document.addEventListener('mousedown',handleMouseClick);return function cleanup(){window.removeEventListener('resize',handleResize);document.removeEventListener('keypress',handleKeyPress);document.removeEventListener('mousedown',handleMouseClick);};});if(showIntro){// Only show intro page if introduction message is defined\nvar data=contentData;if(data.introduction==null||data.introduction.length===0){setShowIntro(false);}else{return/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(Intro,{introduction:data.introduction,onStartClick:function onStartClick(){return setShowIntro(false);}})});}}var taskMap=createTaskMap(contentData);var instructionHeader=(_contentData$surveyIn=contentData.surveyInstructions)===null||_contentData$surveyIn===void 0?void 0:_contentData$surveyIn.title;var instructionsMsg=(_contentData$surveyIn2=contentData.surveyInstructions)===null||_contentData$surveyIn2===void 0?void 0:_contentData$surveyIn2.message;var scenarioHeader=(_contentData$taskInst=contentData.taskInstructions)===null||_contentData$taskInst===void 0?void 0:_contentData$taskInst.title;var scenarioMsg=(_contentData$taskInst2=contentData.taskInstructions)===null||_contentData$taskInst2===void 0?void 0:_contentData$taskInst2.message;var categories=Array.from(taskMap.keys());var highContrastBorder=isHighContrast?\"solid white 1px\":\"\";var numTasks=categories.length===0?0:categories.map(function(category){var _taskMap$get;return TaskCard.filterTasks((_taskMap$get=taskMap.get(category))!==null&&_taskMap$get!==void 0?_taskMap$get:[]);}).flat().map(function(card){return card.tasks;}).map(function(tasks){return tasks.length;}).reduce(function(prev,n){return prev+n;});var handleAdoExport=function handleAdoExport(){var csv=\"Work Item Type,Title,Description\\n\";var _iterator2=_createForOfIteratorHelper(categories),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _taskMap$get2;var category=_step2.value;var taskCards=(_taskMap$get2=taskMap.get(category))!==null&&_taskMap$get2!==void 0?_taskMap$get2:[];var _iterator3=_createForOfIteratorHelper(taskCards),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var card=_step3.value;var _iterator4=_createForOfIteratorHelper(card.tasks),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var task=_step4.value;// In CSV, quotation marks are escaped with 2 quotation marks\n// e.g. \"Hello World\" => \"\"Hello World\"\"\nvar name=task.name.replaceAll(/\"/g,\"\\\"\\\"\");var details=task.details.replaceAll(/\"/g,\"\\\"\\\"\");csv+=\"\\\"Issue\\\",\\\"\".concat(category,\": \").concat(name,\"\\\",\\\"\").concat(details,\"\\\"\\n\");}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}var blob=new Blob([csv],{type:\"text/csv\"});saveAs(blob,\"azureDevOps.csv\");};if(isMobileLayout){return/*#__PURE__*/_jsx(\"div\",{children:showSurvey?/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"title-bar\",className:\"title-bar\",style:{borderBottom:highContrastBorder},children:[/*#__PURE__*/_jsx(\"header\",{role:\"banner\",className:\"title-bar-text\",children:\"Network Playbook for Azure Machine Learning\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"survey-buttons\",style:{marginLeft:\"auto\"},className:\"d-flex justify-content-end\",children:[/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Restart\",onClick:handleClear,className:\"blue-button\",children:\"Restart\"}),/*#__PURE__*/_jsxs(\"button\",{\"aria-label\":\"Undo\",onClick:handleUndo,disabled:undoStack.length===0,className:\"blue-button ml-3\",children:[/*#__PURE__*/_jsx(BsArrowCounterclockwise,{}),\" Undo\"]})]})]}),numTasks>0?/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setShowSurvey(false);},className:\"view-scenarios-bar\",id:\"view-scenarios-bar\",children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"white\"},children:\"View testing scenarios\"}),/*#__PURE__*/_jsx(\"div\",{className:\"circle-text circle-text-large\",id:\"scenario-count-preview\",style:{border:highContrastBorder},children:numTasks}),/*#__PURE__*/_jsx(BsChevronRight,{color:isHighContrast?\"#FFFFFF\":\"#708491\",style:{marginLeft:\"auto\",fontSize:\"24px\",paddingRight:\"2%\"}})]}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"left-column scroll-pane\",id:\"survey-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column-header\",children:/*#__PURE__*/_jsx(\"span\",{style:{paddingLeft:\"4%\",paddingTop:\"16px\",fontSize:\"22px\",lineHeight:\"26px\",color:\"#ACDEFB\"},children:instructionHeader})}),/*#__PURE__*/_jsx(Survey,{json:surveyData,onAfterRenderPage:handleAfterRender,onValueChanged:handleValueChanged})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"title-bar\",className:\"title-bar\",style:{borderBottom:highContrastBorder},children:[/*#__PURE__*/_jsx(\"header\",{role:\"banner\",className:\"title-bar-text\",children:\"HAX Playbook\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"auto\"},className:\"d-flex justify-content-end\",children:[/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Export\",onClick:function onClick(){setShowExportForm(true);},className:\"blue-button\",children:\"Export\"}),/*#__PURE__*/_jsx(ExportDialog,{show:showExportForm,onClose:function onClose(){return setShowExportForm(false);},onCsvExport:handleAdoExport,onGithubExport:function onGithubExport(){return setShowGithubForm(true);},onPdfExport:function onPdfExport(){return window.print();},onLinkExport:function onLinkExport(){return setShowLinkDialog(true);}}),/*#__PURE__*/_jsx(LinkDialog,{show:showLinkDialog,onClose:function onClose(){return setShowLinkDialog(false);}}),/*#__PURE__*/_jsx(GithubExportForm,{taskMap:taskMap,numTasks:numTasks,showForm:showGithubForm,onClose:function onClose(){return setShowGithubForm(false);}})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return setShowSurvey(true);},className:\"back-bar\",style:{border:isHighContrast?\"solid white 1px\":\"\",marginLeft:\"15px\",padding:\"10px 0px\"},children:[/*#__PURE__*/_jsx(BsChevronLeft,{color:isHighContrast?\"#FFFFFF\":\"#004578\",style:{fontSize:\"18px\",marginBottom:\"2px\"}}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"inline-block\",marginLeft:\"5px\"},children:\"Back to survey\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-column d-flex flex-row align-items-center\",id:\"scenario-header-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 column-header\",children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"22px\",color:\"#004578\",fontWeight:\"bold\"},children:scenarioHeader})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-column pb-4\",children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"14px\",border:highContrastBorder},children:\"Total scenarios:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"circle-text circle-text-large\",style:{border:highContrastBorder},children:numTasks})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-column\",children:scenarioMsg!=null&&scenarioMsg.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 normal-text\",dangerouslySetInnerHTML:{__html:instructionsMsg}}):null}),/*#__PURE__*/_jsx(\"div\",{id:\"category-container\",className:\"right-column bottom-shadow\",children:/*#__PURE__*/_jsx(CategoryTags,{taskMap:taskMap,onClick:handleCategoryClick,isHighContrast:isHighContrast})}),/*#__PURE__*/_jsx(TaskList,{taskMap:taskMap,isHighContrast:isHighContrast})]})});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"title-bar\",className:\"title-bar py-2\",style:{borderBottom:highContrastBorder},children:[/*#__PURE__*/_jsx(\"header\",{role:\"banner\",className:\"title-bar-text ml-3\",children:\"Network Playbook for Azure Machine Learning\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:\"auto\"},className:\"d-flex justify-content-end\",children:/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Export\",onClick:function onClick(){return setShowExportForm(true);},className:\"blue-button mr-3\",children:\"Export\"})}),/*#__PURE__*/_jsx(ExportDialog,{show:showExportForm,onClose:function onClose(){return setShowExportForm(false);},onCsvExport:handleAdoExport,onGithubExport:function onGithubExport(){return setShowGithubForm(true);},onPdfExport:function onPdfExport(){return window.print();},onLinkExport:function onLinkExport(){return setShowLinkDialog(true);}}),/*#__PURE__*/_jsx(LinkDialog,{show:showLinkDialog,onClose:function onClose(){return setShowLinkDialog(false);}})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"two-column-grid\",className:\"two-column-grid\",children:[/*#__PURE__*/_jsxs(\"main\",{role:\"main\",className:\"left-column\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"my-3 column-header side-padding\",children:instructionHeader}),isNullOrEmpty(instructionsMsg)?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 normal-text\",\"aria-label\":\"survey instructions\",dangerouslySetInnerHTML:{__html:instructionsMsg}}),/*#__PURE__*/_jsxs(\"div\",{id:\"survey-buttons\",className:\"bottom-shadow side-padding\",children:[/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Restart\",onClick:handleClear,className:\"blue-button\",children:\"Restart\"}),/*#__PURE__*/_jsxs(\"button\",{\"aria-label\":\"Undo\",onClick:handleUndo,disabled:undoStack.length===0,className:\"blue-button ml-3\",children:[/*#__PURE__*/_jsx(BsArrowCounterclockwise,{}),\" Undo\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 scroll-pane\",children:/*#__PURE__*/_jsx(Survey,{json:surveyData,onAfterRenderPage:handleAfterRender,onValueChanged:handleValueChanged})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row align-items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"my-3 column-header side-padding\",children:scenarioHeader}),/*#__PURE__*/_jsx(\"span\",{id:\"total-scenarios-label\",style:{marginLeft:\"auto\"},children:\"Total scenarios:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"circle-text circle-text-large\",\"aria-labelledby\":\"total-scenarios-label\",style:{border:highContrastBorder},children:numTasks})]}),isNullOrEmpty(scenarioMsg)?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsx(\"div\",{className:\"mb-3 normal-text\",dangerouslySetInnerHTML:{__html:scenarioMsg}}),/*#__PURE__*/_jsx(\"div\",{id:\"category-container\",className:\"bottom-shadow side-padding\",children:/*#__PURE__*/_jsx(CategoryTags,{taskMap:taskMap,onClick:handleCategoryClick,isHighContrast:isHighContrast})}),/*#__PURE__*/_jsx(\"div\",{className:\"scroll-pane side-padding\",children:/*#__PURE__*/_jsx(TaskList,{taskMap:taskMap,isHighContrast:isHighContrast})})]})]}),/*#__PURE__*/_jsx(GithubExportForm,{taskMap:taskMap,numTasks:numTasks,showForm:showGithubForm,onClose:function onClose(){return setShowGithubForm(false);}}),/*#__PURE__*/_jsxs(\"footer\",{role:\"contentinfo\",id:\"footer\",className:\"footer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mx-3\",children:\"Copyright \\xA9 Microsoft Corporation\"}),/*#__PURE__*/_jsx(\"address\",{style:{marginLeft:\"auto\",marginRight:\"1em\",marginBottom:\"0px\",display:\"inline-block\",fontStyle:\"normal\"},children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:aiguidelines@microsoft.com\",children:\"Contact us\"})})]})]});}};export default App;","map":{"version":3,"sources":["/home/runner/work/azureml-network-playbook/azureml-network-playbook/src/App.tsx"],"names":["React","useEffect","useState","Survey","Intro","TaskList","CategoryTags","TaskCard","GithubExportForm","ExportDialog","LinkDialog","BsArrowCounterclockwise","BsChevronLeft","BsChevronRight","saveAs","getCategorySectionId","isNullOrEmpty","surveyModel","isFirstRender","isDeserializing","autoscroll","createTaskMap","contentData","questions","getAllQuestions","taskMap","Map","forEach","q","tc","fromQuestionChoice","name","value","category","find","cq","categoryTasks","get","filtered","filter","t","question","push","set","isWideScreen","window","innerWidth","arrangeSurveyPages","surveyData","isMobileLayout","surveyQuestions","i","pages","length","page","j","elements","adjustVerticalAlignment","categoryDiv","document","getElementById","buttonDiv","style","minHeight","clientHeight","heightDiff","matches","paddingBottom","match","pb","parseInt","App","showIntro","setShowIntro","showSurvey","setShowSurvey","Array","undoStack","setUndoStack","showExportForm","setShowExportForm","showLinkDialog","setShowLinkDialog","showGithubForm","setShowGithubForm","isHighContrast","setHighContrast","setMobileLayout","console","log","deserializeState","state","regex","test","error","valueMap","numQuestions","charAt","choiceIx","choices","questionName","firstUndoStack","serializeState","values","getAllValues","serialized","found","k","handleAfterRender","sender","options","urlParams","URLSearchParams","location","search","handleValueChanged","isVisible","clearValue","url","URL","toString","searchParams","history","replaceState","countPreview","classList","add","setTimeout","remove","handleUndo","pop","oldState","handleClear","handleCategoryClick","categorySection","scrollIntoView","focus","leftColumnBg","getComputedStyle","getElementsByClassName","getPropertyValue","titleBar","viewScenariosBar","surveyContainer","height","offsetHeight","scenarioContainer","footer","grid","svRows","handleResize","handleKeyPress","handleMouseClick","addEventListener","cleanup","removeEventListener","data","introduction","instructionHeader","surveyInstructions","title","instructionsMsg","message","scenarioHeader","taskInstructions","scenarioMsg","categories","from","keys","highContrastBorder","numTasks","map","filterTasks","flat","card","tasks","reduce","prev","n","handleAdoExport","csv","taskCards","task","replaceAll","details","blob","Blob","type","borderBottom","marginLeft","color","border","fontSize","paddingRight","paddingLeft","paddingTop","lineHeight","print","padding","marginBottom","display","fontWeight","__html","marginRight","fontStyle"],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\n// The App component is the top-level component of the application.\n// This component manages the state of the survey and determines\n// which page to show based on the status of the survey.\n\nimport React, { useEffect, useState } from 'react';\nimport { ReactSurveyModel, Survey } from 'survey-react';\nimport Intro from './components/Intro';\nimport TaskList from './components/TaskList';\nimport CategoryTags from './components/CategoryTags';\nimport { TaskCard } from './models/Types';\nimport { SurveyValueChangedOptions } from './models/SurveyCallbackTypes';\nimport GithubExportForm from './components/GithubExportForm';\nimport ExportDialog from './components/ExportDialog';\nimport LinkDialog from './components/LinkDialog';\nimport { BsArrowCounterclockwise, BsChevronLeft, BsChevronRight } from 'react-icons/bs';\nimport { saveAs } from 'file-saver';\nimport { getCategorySectionId, isNullOrEmpty } from './util/Utils';\n\ninterface AppProps {\n  surveyData: any,\n  contentData: any\n}\n\n// Captures the survey model object after the page renders\n// Exposes some encapsulated state needed for undo functionality\nexport let surveyModel: ReactSurveyModel;\n\n// SurveyJS will re-render its component when pages are changed or when the\n// app switches from mobile to desktop view. Some things need to only happen\n// on the first render.\nlet isFirstRender = true;\nlet isDeserializing = false;\nlet autoscroll = true;\n\nfunction createTaskMap(contentData: any) {\n  const questions = surveyModel?.getAllQuestions() ?? [];\n  const taskMap = new Map<string, TaskCard[]>();\n  questions.forEach(q => {\n    const tc = TaskCard.fromQuestionChoice(q.name, q.value);\n    if (tc != null) {\n      const category: any = contentData.questions.find((cq: any) => cq.name === q.name)?.category;\n      let categoryTasks = taskMap.get(category);\n      if (categoryTasks) {\n        const filtered = categoryTasks.filter((t: TaskCard) => t.question !== q.name);\n        filtered.push(tc);\n        categoryTasks = filtered;\n      } else {\n        categoryTasks = [tc];\n      }\n      taskMap.set(category, categoryTasks);\n    }\n  });\n  return taskMap;\n}\n\nfunction isWideScreen() {\n  return window.innerWidth > 425;\n}\n\n// Switches the survey to multi-page or single-page format\n// eslint-disable-next-line\nfunction arrangeSurveyPages(surveyData: any, isMobileLayout: boolean) {\n  const surveyQuestions = [];\n  for (let i = 0; i < surveyData.pages?.length; i++) {\n    const page = surveyData.pages[i];\n    for (let j = 0; j < page.elements?.length; j++) {\n      surveyQuestions.push(page.elements[j]);\n    }\n  }\n  surveyData.pages = [];\n  if (isMobileLayout) {\n    // Split the survey into multiple pages\n    for (let q of surveyQuestions) {\n      surveyData.pages.push({ elements: [q] });\n    }\n  } else {\n    // Combine all pages into 1 page\n    surveyData.pages.push({ elements: surveyQuestions });\n  }\n  return surveyData;\n}\n\n// vertically align the button row with the category tags row\nfunction adjustVerticalAlignment() {\n  const categoryDiv = document.getElementById(\"category-container\");\n  const buttonDiv = document.getElementById(\"survey-buttons\");\n  if (categoryDiv && buttonDiv) {\n    if (isNullOrEmpty(categoryDiv.style.minHeight)) {\n      categoryDiv.style.minHeight = `${buttonDiv.clientHeight}px`;\n    }\n    const heightDiff = categoryDiv.clientHeight - buttonDiv.clientHeight;\n    // parse the padding - it will be in format of \"5px\"\n    const matches = buttonDiv.style.paddingBottom?.match(/[0-9]+/);\n    const pb = matches == null ? 0 : parseInt(matches[0]);\n\n    if (heightDiff !== 0) {\n      buttonDiv.style.paddingBottom = `${pb + heightDiff}px`;\n    }\n  }\n}\n\nconst App: React.FunctionComponent<AppProps> = ({ surveyData, contentData }) => {\n  const [showIntro, setShowIntro] = useState(true);\n  const [showSurvey, setShowSurvey] = useState(true);\n  const [undoStack, setUndoStack] = useState(new Array<Map<string, string>>());\n  const [showExportForm, setShowExportForm] = useState(false);\n  const [showLinkDialog, setShowLinkDialog] = useState(false);\n  const [showGithubForm, setShowGithubForm] = useState(false);\n  const [isHighContrast, setHighContrast] = useState(false);\n  const [isMobileLayout, setMobileLayout] = useState(!isWideScreen());\n\n  console.log(\"STATE: showIntro=\", showIntro, \" showSurvey=\", showSurvey,\n    \" isMobileLayout=\", isMobileLayout, \" isHighContrast=\", isHighContrast);\n\n  //surveyData = arrangeSurveyPages(surveyData, isMobileLayout);\n\n  const deserializeState = (state: string) => {\n    console.log(\"Deserializing state: \", state);\n    let regex = /^[0-9x]*$/g;\n    if (!regex.test(state)) {\n      console.error(\"Unsupported state string: \", state);\n      return;\n    }\n\n    const questions = surveyModel.getAllQuestions();\n    if (state.length !== questions.length) {\n      console.error(\"State string length != number of questions\");\n      return;\n    }\n\n    const valueMap = new Map<string, string>();\n    let numQuestions = 0;\n    isDeserializing = true;\n    for (let i = 0; i < surveyData.pages?.length; i++) {\n      const page = surveyData.pages[i];\n      for (let j = 0; j < page.elements?.length; j++) {\n        numQuestions++;\n        if (numQuestions > state.length) {\n          console.error(\"survey.json contains more questions than state\");\n          isDeserializing = false;\n          return;\n        }\n        if (state.charAt(j) === \"x\") {\n          continue;\n        }\n        const choiceIx = parseInt(state.charAt(j));\n        const value = page.elements[j].choices[choiceIx]?.value;\n        const questionName = page.elements[j].name;\n        if (value) {\n          valueMap.set(questionName, value);\n        } else {\n          console.error(`Choice not found for state index=${j}`);\n          isDeserializing = false;\n          return;\n        }\n      }\n    }\n\n    questions.forEach(q => {\n      q.value = valueMap.get(q.name);\n    });\n    if (isFirstRender) {\n      // Set the undo stack up if the page is loading from a saved state\n      let valueMap = new Map<string, string>();\n      let firstUndoStack: Map<string, string>[] = []\n      questions.forEach(q => {\n        if (q.value) {\n          valueMap = new Map<string, string>(valueMap);\n          valueMap.set(q.name, q.value);\n          firstUndoStack = [...firstUndoStack, valueMap];\n        }\n      });\n      setUndoStack(firstUndoStack);\n    }\n    isDeserializing = false;\n    console.log(\"Deserialization successful\", valueMap);\n  }\n\n  const serializeState = () => {\n    if (surveyModel == null) {\n      console.log(\"Can't serialize: surveyModel is undefined\");\n      return \"\";\n    }\n\n    // Values is a map of {questionName: questionValue}\n    const values = surveyModel.getAllValues();\n    let serialized = \"\";\n    for (let i = 0; i < surveyData.pages?.length; i++) {\n      let page = surveyData.pages[i];\n      for (let j = 0; j < page.elements?.length; j++) {\n        let choices = page.elements[j].choices;\n        let questionName = page.elements[j].name;\n        let found = false;\n        for (let k = 0; k < choices?.length && !found; k++) {\n          if (values[questionName] === choices[k].value) {\n            serialized += k;\n            found = true;\n          }\n        }\n        if (!found) {\n          serialized += \"x\";\n        }\n      }\n    }\n\n    console.log(\"Serialized state: \", serialized);\n    return serialized;\n  }\n\n  const handleAfterRender = (sender: ReactSurveyModel, options: any) => {\n    console.log(\"AfterRender\", sender, options);\n    surveyModel = sender;\n    const urlParams = new URLSearchParams(window.location.search);\n    const state = urlParams.get('state');\n    if (state) {\n      deserializeState(state);\n    }\n    isFirstRender = false;\n  }\n\n  const handleValueChanged = (sender: ReactSurveyModel, options: SurveyValueChangedOptions) => {\n    if (isDeserializing) {\n      return;\n    }\n    console.log(\"ValueChanged\", sender, options);\n    const questions = sender.getAllQuestions();\n    const valueMap = new Map<string, string>();\n    questions.forEach(q => {\n      // Clear answers from invisible questions\n      // Questions can become invisible when the user changes a previous selection\n      if (!q.isVisible) {\n        q.clearValue();\n      }\n      valueMap.set(q.name, q.value);\n    });\n    setUndoStack([...undoStack, valueMap]);\n\n    const url = new URL(window.location.toString());\n    url.searchParams.set(\"state\", serializeState());\n    window.history.replaceState({}, '', url.toString());\n\n    const countPreview = document.getElementById(\"scenario-count-preview\");\n    if (countPreview) {\n      countPreview.classList.add(\"pulse-animation\")\n      setTimeout(() => {\n        countPreview.classList.remove(\"pulse-animation\");\n      }, 1500)\n    }\n  }\n\n  const handleUndo = () => {\n    if (surveyModel == null) {\n      console.log(\"Can't undo: surveyModel is undefined\");\n      return;\n    }\n\n    const questions = surveyModel.getAllQuestions();\n    questions.forEach(q => {\n      q.clearValue();\n    });\n\n    if (undoStack.length > 1) {\n      // The last thing pushed on the stack is the current state\n      // We need to pop it off first to get the old state\n      undoStack.pop();\n      const oldState = undoStack[undoStack.length - 1];\n      questions.forEach(q => {\n        q.value = oldState?.get(q.name);\n      });\n      setUndoStack([...undoStack]);\n    } else {\n      setUndoStack([]);\n    }\n  }\n\n  const handleClear = () => {\n    if (surveyModel == null) {\n      console.log(\"Can't clear: surveyModel is undefined\");\n      return;\n    }\n\n    const questions = surveyModel.getAllQuestions();\n    questions.forEach(q => {\n      q.clearValue();\n    });\n  }\n\n  const handleCategoryClick = (category: string) => {\n    const categorySection = document.getElementById(getCategorySectionId(category))\n    if (categorySection) {\n      categorySection.scrollIntoView(true);\n      categorySection.focus();\n    }\n  }\n\n  /* eslint-disable react-hooks/exhaustive-deps */\n  useEffect(() => {\n    if (showIntro) return;\n\n    // Detect high contrast mode by checking if the background color has been modified\n    if (!isHighContrast) {\n      const leftColumnBg = window.getComputedStyle(document.getElementsByClassName(\"title-bar\")[0], null).getPropertyValue('background-color'); \n      if (leftColumnBg !== \"rgb(0, 27, 46)\") {\n        setHighContrast(true);\n      }\n    }\n\n    // Resize the page to fill the screen vertically\n    const titleBar = document.getElementById(\"title-bar\");\n    if (isMobileLayout) {\n      const viewScenariosBar = document.getElementById(\"view-scenarios-bar\");\n      const surveyContainer = document.getElementById(\"survey-container\");\n      if (surveyContainer) {\n        if (viewScenariosBar) {\n          surveyContainer.style.height = `calc(100vh - ${titleBar?.offsetHeight}px - ${viewScenariosBar?.offsetHeight}px)`;\n        } else {\n          surveyContainer.style.height = `calc(100vh - ${titleBar?.offsetHeight}px)`;\n        }\n      }\n\n      const scenarioContainer = document.getElementById(\"scenario-header-container\");\n      if (scenarioContainer) {\n        scenarioContainer.style.height = \"\";\n      }\n    } else {\n      const footer = document.getElementById(\"footer\");\n      const grid = document.getElementById(\"two-column-grid\");\n      if (grid) {\n        grid.style.height = `calc(100vh - ${footer?.offsetHeight}px - ${titleBar?.offsetHeight}px)`;\n      }\n      adjustVerticalAlignment();\n    }\n\n    // Auto-scroll when the user selects a choice\n    if (autoscroll) {\n      const svRows = document.getElementsByClassName(\"sv_row\");\n      if (svRows.length > 0) {\n        svRows[svRows.length - 1].scrollIntoView(true);\n      }\n    }\n\n    const handleResize = () => {\n      if (isMobileLayout && isWideScreen()) {\n        console.log(\"Switching to desktop layout\");\n        setMobileLayout(false);\n      } else if (!isMobileLayout && !isWideScreen()) {\n        console.log(\"Switching to mobile layout\");\n        setMobileLayout(true);\n      } else if (!isMobileLayout) {\n        adjustVerticalAlignment();\n      }\n    }\n\n    const handleKeyPress = () => {\n      autoscroll = false;\n    }\n\n    const handleMouseClick = () => {\n      autoscroll = true;\n    }\n\n    window.addEventListener('resize', handleResize);\n    document.addEventListener('keypress', handleKeyPress);\n    document.addEventListener('mousedown', handleMouseClick);\n    return function cleanup() {\n      window.removeEventListener('resize', handleResize);\n      document.removeEventListener('keypress', handleKeyPress);\n      document.removeEventListener('mousedown', handleMouseClick);\n    };\n  });\n\n  if (showIntro) {\n    // Only show intro page if introduction message is defined\n    const data: any = contentData;\n    if (data.introduction == null || data.introduction.length === 0) {\n      setShowIntro(false);\n    } else {\n      return (\n        <div className=\"row justify-content-center\">\n          <Intro introduction={data.introduction} onStartClick={() => setShowIntro(false)} />\n        </div>\n      );\n    }\n  }\n\n  const taskMap = createTaskMap(contentData);\n  const instructionHeader = contentData.surveyInstructions?.title;\n  const instructionsMsg = contentData.surveyInstructions?.message;\n  const scenarioHeader = contentData.taskInstructions?.title;\n  const scenarioMsg = contentData.taskInstructions?.message;\n  const categories = Array.from(taskMap.keys());\n  const highContrastBorder = isHighContrast ? \"solid white 1px\" : \"\";\n  const numTasks = categories.length === 0 ? 0 :\n    categories.map(category => TaskCard.filterTasks(taskMap.get(category) ?? []))\n      .flat()\n      .map(card => card.tasks)\n      .map(tasks => tasks.length)\n      .reduce((prev, n) => prev + n);\n\n  const handleAdoExport = () => {\n    let csv = \"Work Item Type,Title,Description\\n\";\n    for (const category of categories) {\n      const taskCards = taskMap.get(category) ?? [];\n      for (const card of taskCards) {\n        for (const task of card.tasks) {\n          // In CSV, quotation marks are escaped with 2 quotation marks\n          // e.g. \"Hello World\" => \"\"Hello World\"\"\n          const name = task.name.replaceAll(/\"/g, \"\\\"\\\"\");\n          const details = task.details.replaceAll(/\"/g, \"\\\"\\\"\");\n          csv += `\"Issue\",\"${category}: ${name}\",\"${details}\"\\n`;\n        }\n      }\n    }\n    const blob = new Blob([csv], { type: \"text/csv\" });\n    saveAs(blob, \"azureDevOps.csv\");\n  }\n\n  if (isMobileLayout) {\n    return (\n      <div>\n        { showSurvey ?\n          <div className=\"mobile-grid\">\n            <div id=\"title-bar\" className=\"title-bar\" style={{borderBottom: highContrastBorder}}>\n              <header role=\"banner\" className=\"title-bar-text\">Network Playbook for Azure Machine Learning</header>\n              <div id=\"survey-buttons\" style={{ marginLeft: \"auto\" }} className=\"d-flex justify-content-end\">\n                <button aria-label=\"Restart\" onClick={handleClear} className=\"blue-button\">Restart</button>\n                <button aria-label=\"Undo\" onClick={handleUndo} disabled={undoStack.length === 0} className=\"blue-button ml-3\"><BsArrowCounterclockwise /> Undo</button>\n              </div>\n            </div>\n            { numTasks > 0 ? \n            <button onClick={() => setShowSurvey(false)} className=\"view-scenarios-bar\" id=\"view-scenarios-bar\">\n              <span style={{ color: \"white\" }}>View testing scenarios</span>\n              <div className=\"circle-text circle-text-large\" id=\"scenario-count-preview\" style={{border: highContrastBorder}}>\n                {numTasks}\n              </div>\n              <BsChevronRight color={isHighContrast ? \"#FFFFFF\" : \"#708491\"} style={{ marginLeft: \"auto\", fontSize: \"24px\", paddingRight: \"2%\" }} />\n            </button>\n            : <div></div> }\n            <div className=\"left-column scroll-pane\" id=\"survey-container\">\n              <div className=\"column-header\">\n                <span style={{ paddingLeft: \"4%\", paddingTop: \"16px\", fontSize: \"22px\", lineHeight: \"26px\", color: \"#ACDEFB\" }}>{instructionHeader}</span>\n              </div>\n              <Survey json={surveyData} onAfterRenderPage={handleAfterRender} onValueChanged={handleValueChanged} />\n            </div>\n          </div>\n          :\n          <>\n            <div id=\"title-bar\" className=\"title-bar\" style={{borderBottom: highContrastBorder}}>\n              <header role=\"banner\" className=\"title-bar-text\">HAX Playbook</header>\n              <div style={{ marginLeft: \"auto\" }} className=\"d-flex justify-content-end\">\n                <button aria-label=\"Export\" onClick={() => { setShowExportForm(true) }} className=\"blue-button\">Export</button>\n                <ExportDialog \n                  show={showExportForm}\n                  onClose={() => setShowExportForm(false)}\n                  onCsvExport={handleAdoExport}\n                  onGithubExport={() => setShowGithubForm(true)}\n                  onPdfExport={() => window.print()}\n                  onLinkExport={() => setShowLinkDialog(true)}/>\n                <LinkDialog \n                  show={showLinkDialog}\n                  onClose={() => setShowLinkDialog(false)} />\n                <GithubExportForm taskMap={taskMap} numTasks={numTasks} showForm={showGithubForm} onClose={() => setShowGithubForm(false)} />\n              </div>\n            </div>\n            <button onClick={() => setShowSurvey(true)} className=\"back-bar\" style={{border: isHighContrast ? \"solid white 1px\" : \"\", marginLeft: \"15px\", padding: \"10px 0px\"}}>\n              <BsChevronLeft color={isHighContrast ? \"#FFFFFF\" : \"#004578\"} style={{ fontSize: \"18px\", marginBottom: \"2px\" }} />\n              <div style={{display: \"inline-block\", marginLeft: \"5px\"}}>Back to survey</div>\n            </button>\n            <div className=\"right-column d-flex flex-row align-items-center\" id=\"scenario-header-container\">\n              <div className=\"mb-3 column-header\" >\n                <span style={{fontSize: \"22px\", color:\"#004578\", fontWeight: \"bold\"}}>{scenarioHeader}</span>\n              </div>\n            </div>\n            <div className=\"right-column pb-4\">\n              <span style={{ fontSize: \"14px\", border: highContrastBorder}}>Total scenarios:</span>\n              <div className=\"circle-text circle-text-large\" style={{border: highContrastBorder}}>\n                {numTasks}\n              </div>\n            </div>\n            <div className=\"right-column\">\n              {scenarioMsg != null && scenarioMsg.length > 0 ? <div className=\"mb-3 normal-text\" dangerouslySetInnerHTML={{ __html: instructionsMsg }} /> : null}\n            </div>\n            <div id=\"category-container\" className=\"right-column bottom-shadow\">\n              <CategoryTags taskMap={taskMap} onClick={handleCategoryClick} isHighContrast={isHighContrast}/>\n            </div>\n            <TaskList taskMap={taskMap} isHighContrast={isHighContrast}/>\n          </>\n        }\n      </div>\n    );\n  } else {\n    return (\n      <>\n        <div id=\"title-bar\" className=\"title-bar py-2\" style={{borderBottom: highContrastBorder}}>\n          <header role=\"banner\" className=\"title-bar-text ml-3\">Network Playbook for Azure Machine Learning</header>\n          <div style={{ marginLeft: \"auto\" }} className=\"d-flex justify-content-end\">\n            <button aria-label=\"Export\" onClick={() => setShowExportForm(true)} className=\"blue-button mr-3\">Export</button>\n          </div>\n          <ExportDialog \n            show={showExportForm}\n            onClose={() => setShowExportForm(false)}\n            onCsvExport={handleAdoExport}\n            onGithubExport={() => setShowGithubForm(true)}\n            onPdfExport={() => window.print()}\n            onLinkExport={() => setShowLinkDialog(true)}/>\n          <LinkDialog \n            show={showLinkDialog}\n            onClose={() => setShowLinkDialog(false)} />\n        </div>\n        <div id=\"two-column-grid\" className=\"two-column-grid\">\n          <main role=\"main\" className=\"left-column\">\n            <h1 className=\"my-3 column-header side-padding\">\n              {instructionHeader}\n            </h1>\n            { isNullOrEmpty(instructionsMsg) ? <div/> : <div className=\"mb-3 normal-text\" aria-label=\"survey instructions\" dangerouslySetInnerHTML={{ __html: instructionsMsg }} /> }\n            <div id=\"survey-buttons\" className=\"bottom-shadow side-padding\">\n              <button aria-label=\"Restart\" onClick={handleClear} className=\"blue-button\">Restart</button>\n              <button aria-label=\"Undo\" onClick={handleUndo} disabled={undoStack.length === 0} className=\"blue-button ml-3\"><BsArrowCounterclockwise /> Undo</button>\n            </div>\n            <div className=\"pt-3 scroll-pane\">\n              <Survey json={surveyData} onAfterRenderPage={handleAfterRender} onValueChanged={handleValueChanged} />\n            </div>\n          </main>\n          <div className=\"right-column\">\n            <div className=\"d-flex flex-row align-items-center\">\n              <h1 className=\"my-3 column-header side-padding\">\n                {scenarioHeader}\n              </h1>\n              <span id=\"total-scenarios-label\" style={{ marginLeft: \"auto\" }}>Total scenarios:</span>\n              <div className=\"circle-text circle-text-large\" aria-labelledby=\"total-scenarios-label\" style={{border: highContrastBorder}}>\n                {numTasks}\n              </div>\n            </div>\n            { isNullOrEmpty(scenarioMsg) ? <div/> : <div className=\"mb-3 normal-text\" dangerouslySetInnerHTML={{ __html: scenarioMsg }} /> }\n            <div id=\"category-container\" className=\"bottom-shadow side-padding\">\n              <CategoryTags taskMap={taskMap} onClick={handleCategoryClick} isHighContrast={isHighContrast}/>\n            </div>\n            <div className=\"scroll-pane side-padding\">\n              <TaskList taskMap={taskMap} isHighContrast={isHighContrast}/>\n            </div>\n          </div>\n        </div>\n        <GithubExportForm taskMap={taskMap} numTasks={numTasks} showForm={showGithubForm} onClose={() => setShowGithubForm(false)} />\n        <footer role=\"contentinfo\" id=\"footer\" className=\"footer\">\n          <span className=\"mx-3\">Copyright &copy; Microsoft Corporation</span>\n          <address style={{ marginLeft: \"auto\", marginRight: \"1em\", marginBottom: \"0px\", display: \"inline-block\", fontStyle: \"normal\" }}>\n            <a href=\"mailto:aiguidelines@microsoft.com\">Contact us</a>\n          </address>\n        </footer>\n      </>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}