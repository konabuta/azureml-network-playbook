{"ast":null,"code":"import _regeneratorRuntime from \"/home/runner/work/azureml-network-playbook/azureml-network-playbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/runner/work/azureml-network-playbook/azureml-network-playbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction auth(_x) {\n  return _auth.apply(this, arguments);\n}\n/**\n * Prefix token for usage in the Authorization header\n *\n * @param token OAuth token or JSON Web Token\n */\n\n\nfunction _auth() {\n  _auth = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(token) {\n    var tokenType;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            tokenType = token.split(/\\./).length === 3 ? \"app\" : /^v\\d+\\./.test(token) ? \"installation\" : \"oauth\";\n            return _context.abrupt(\"return\", {\n              type: \"token\",\n              token: token,\n              tokenType: tokenType\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _auth.apply(this, arguments);\n}\n\nfunction withAuthorizationPrefix(token) {\n  if (token.split(/\\./).length === 3) {\n    return \"bearer \".concat(token);\n  }\n\n  return \"token \".concat(token);\n}\n\nfunction hook(_x2, _x3, _x4, _x5) {\n  return _hook.apply(this, arguments);\n}\n\nfunction _hook() {\n  _hook = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(token, request, route, parameters) {\n    var endpoint;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            endpoint = request.endpoint.merge(route, parameters);\n            endpoint.headers.authorization = withAuthorizationPrefix(token);\n            return _context2.abrupt(\"return\", request(endpoint));\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _hook.apply(this, arguments);\n}\n\nvar createTokenAuth = function createTokenAuth(token) {\n  if (!token) {\n    throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n  }\n\n  if (typeof token !== \"string\") {\n    throw new Error(\"[@octokit/auth-token] Token passed to createTokenAuth is not a string\");\n  }\n\n  token = token.replace(/^(token|bearer) +/i, \"\");\n  return Object.assign(auth.bind(null, token), {\n    hook: hook.bind(null, token)\n  });\n};\n\nexport { createTokenAuth };","map":{"version":3,"sources":["../dist-src/auth.js","../dist-src/with-authorization-prefix.js","../dist-src/hook.js","../dist-src/index.js"],"names":[],"mappings":";;;SAAsB,I;;;ACAtB;AACA;AACA;AACA;AACA;;;;mEDJO,iBAAoB,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AACG,YAAA,SADH,GACe,KAAK,CAAC,KAAN,CAAY,IAAZ,EAAkB,MAAlB,KAA6B,CAA7B,GACZ,KADY,GAEZ,UAAU,IAAV,CAAe,KAAf,IACI,cADJ,GAEI,OALP;AAAA,6CAMI;AACH,cAAA,IAAI,EAAE,OADH;AAEH,cAAA,KAAK,EAAE,KAFJ;AAGH,cAAA,SAAS,EAAT;AAHG,aANJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;ACKA,SAAS,uBAAT,CAAiC,KAAjC,EAAwC;AAC3C,MAAI,KAAK,CAAC,KAAN,CAAY,IAAZ,EAAkB,MAAlB,KAA6B,CAAjC,EAAoC;AAChC,4BAAiB,KAAjB;AACH;;AACD,yBAAgB,KAAhB;AACH;;SCTqB,I;;;;;mEAAf,kBAAoB,KAApB,EAA2B,OAA3B,EAAoC,KAApC,EAA2C,UAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AACG,YAAA,QADH,GACc,OAAO,CAAC,QAAR,CAAiB,KAAjB,CAAuB,KAAvB,EAA8B,UAA9B,CADd;AAEH,YAAA,QAAQ,CAAC,OAAT,CAAiB,aAAjB,GAAiC,uBAAuB,CAAC,KAAD,CAAxD;AAFG,8CAGI,OAAO,CAAC,QAAD,CAHX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;ACCK,IAAC,eAAe,GAAG,SAAS,eAAT,CAAyB,KAAzB,EAAgC;AAC3D,MAAI,CAAC,KAAL,EAAY;AACR,UAAM,IAAI,KAAJ,CAAU,0DAAV,CAAN;AACH;;AACD,MAAI,OAAO,KAAP,KAAiB,QAArB,EAA+B;AAC3B,UAAM,IAAI,KAAJ,CAAU,uEAAV,CAAN;AACH;;AACD,EAAA,KAAK,GAAG,KAAK,CAAC,OAAN,CAAc,oBAAd,EAAoC,EAApC,CAAR;AACA,SAAO,MAAM,CAAC,MAAP,CAAc,IAAI,CAAC,IAAL,CAAU,IAAV,EAAgB,KAAhB,CAAd,EAAsC;AACzC,IAAA,IAAI,EAAE,IAAI,CAAC,IAAL,CAAU,IAAV,EAAgB,KAAhB;AADmC,GAAtC,CAAP;AAGH,CAXW","sourcesContent":["export async function auth(token) {\n    const tokenType = token.split(/\\./).length === 3\n        ? \"app\"\n        : /^v\\d+\\./.test(token)\n            ? \"installation\"\n            : \"oauth\";\n    return {\n        type: \"token\",\n        token: token,\n        tokenType\n    };\n}\n","/**\n * Prefix token for usage in the Authorization header\n *\n * @param token OAuth token or JSON Web Token\n */\nexport function withAuthorizationPrefix(token) {\n    if (token.split(/\\./).length === 3) {\n        return `bearer ${token}`;\n    }\n    return `token ${token}`;\n}\n","import { withAuthorizationPrefix } from \"./with-authorization-prefix\";\nexport async function hook(token, request, route, parameters) {\n    const endpoint = request.endpoint.merge(route, parameters);\n    endpoint.headers.authorization = withAuthorizationPrefix(token);\n    return request(endpoint);\n}\n","import { auth } from \"./auth\";\nimport { hook } from \"./hook\";\nexport const createTokenAuth = function createTokenAuth(token) {\n    if (!token) {\n        throw new Error(\"[@octokit/auth-token] No token passed to createTokenAuth\");\n    }\n    if (typeof token !== \"string\") {\n        throw new Error(\"[@octokit/auth-token] Token passed to createTokenAuth is not a string\");\n    }\n    token = token.replace(/^(token|bearer) +/i, \"\");\n    return Object.assign(auth.bind(null, token), {\n        hook: hook.bind(null, token)\n    });\n};\n"]},"metadata":{},"sourceType":"module"}